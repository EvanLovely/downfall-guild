uuid: e3139c8c-e945-4875-9b72-1872362af410
langcode: en
status: true
dependencies: {  }
id: upgrade_d6_taxonomy_term
migration_tags:
  - 'Drupal 6'
migration_group: migrate_drupal_6
label: 'Taxonomy terms'
source:
  plugin: taxonomy_term
process:
  tid:
    -
      plugin: static_map
      source: tid
      bypass: true
      map:
        # Forum containers: Throw these away
        1: '' # Guild forum container
        2: '' # Raid forum container
        57: '' # World of Warcraft General forum container
        65: '' # Theorycraft forum container
        82: '' # Member forums forums container
        104: '' # Star Wars, forum container
        # TID -> Group ref lookup conversion
        3: '' # Hamfist, Group Ref: 12359
        4: '' # LF1M, Group Ref: 12360
        60: '' # Lava Crab, Group Ref: 7393
        62: '' # GPS, Group Ref: 10671
        78: '' # mALT, Group Ref: 8056
        89: '' # Kitten Brigade, Group Ref: 7365
        90: '' # Salmon, Group Ref: 6593
        100: '' # PMS, Group Ref: 12361
        101: '' # Happy Ending, Group Ref: 9406
        15: '' # Hamfist tag, Group Ref: 12359
        16: '' # LF1M, Group Ref: 12360
        96: '' # Kitten Brigade, group ref: 7365
        97: '' # Salmon, group ref: 6593
        98: '' # Lava Crab, group ref: 7393
        # TID -> TID conversion. Consolidate tid dupes
        61: 6 # Guild Officer, all content refs instead to tid 6 (Raid Officer)
        18: 56 # Guild tag, updating all content refs instead to tid 56 (Guild Discussion)
        19: 39 # Other, updating all content refs instead to tid 39 (Everything Else)
        26: 102 # Raid, content refs to 102 instead (General Raid Discussion)
        31: 56 # Relations, covnerting all content refs to 56 (Guild Discussion)
        33: 79 # PvP, converting all refs to 79 (PvP)
        41: 77 # Hunter, tid
        42: 72 # Mage
        43: 66 # Paladin
        44: 74 # Priest
        45: 68 # Warlock
        47: 67 # Rogue
        48: 73 # Shaman
        49: 71 # Warrior
        50: 70 # Druid
        51: 69 # Death Knight
        53: 63 # UI, convert to 63
    -
      plugin: skip_on_empty
      method: row
  vid:
    -
      plugin: static_map
      source: tid
      map:
        6: downfall # Raid officer
        61: downfall # Guild officer converted to 6
        38: downfall
        39: downfall # Everything Else
        19: downfall # Other converted to 39
        56: downfall # Guild discussion
        18: downfall # Relations converted to Guild disucssion
        30: downfall
        52: downfall
        85: image_galleries
        86: image_galleries
        87: image_galleries
        88: image_galleries
      default_value: wow
  parent:
    plugin: static_map
    source: tid
    default_value: 0
    map:
      66: 40
      67: 40
      68: 40
      69: 40
      70: 40
      71: 40
      72: 40
      73: 40
      74: 40
      77: 40
      105: 40
      34: 79
      35: 79
      36: 79
      54: 63
      55: 63
      13: 107 # 107 custom import: Instance Size
      14: 107
      83: 107
      17: 106 # 106 custom import: Instance
      75: 106
      20: 106
      21: 106
      27: 106
      28: 106
      29: 106
      91: 106
      92: 106
      93: 106
      76: 108 # 108 custom import: Expansion
      94: 108
      32: 108
      37: 114 # Gameplay new parent
      102: 114
      103: 114
      99: 114
      59: 114
      58: 114
      95: 114
#    -
#      plugin: migration
#      migration: upgrade_d6_taxonomy_term
#      source: parent
  name:
    -
      plugin: static_map
      source: name
      bypass: true
      map:
        'Guild Officer': 'Officer'
        'Raid Officer': 'Officer'
        'Guild Discussion/Issues': 'Guild Discussion'
        'UI/Macros': 'UI'
        'Generic Raid Discussion': 'General Raid Discussion'
        'Holonet': 'General SW:TOR Discussion'
#        'WoW 1.0': 'Vanilla' # dots not allowed in keys
        'World': 'World PvP'
        'World': 'Wrath of the Lich King'
        'SSC': 'Serpentshrine Cavern'
        'WoW Discussion': 'General WoW Discussion'
        'WotLK': 'Wrath of the Lich King'
        '5-man': '5 man'
  description: description
  weight: weight
  changed: timestamp
destination:
  plugin: 'entity:taxonomy_term'
migration_dependencies:
  required: {}
#    - upgrade_d6_taxonomy_vocabulary
  optional: {  }
